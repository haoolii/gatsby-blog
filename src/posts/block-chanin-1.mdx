---
date: 2021-08-11
title: Blog Chain
description: This is my first MDX blog post.
cover: Anoth
tags: ["animals", "Chicago", "zoos"]
---

## Hello Blog

```typescript
// 省略...
export class AppComponent {
  constructor(private overlay: Overlay, private injector: Injector) {}

  showModal() {
    // 定位策略，甚至可以指定定位黏貼於某一DOM
    const strategy = this.overlay
      .position()
      .global()
      .centerHorizontally()
      .centerVertically()

    // Overlay設定，是否有背景，及設定定位策略
    const config = new OverlayConfig({
      hasBackdrop: true,
      backdropClass: "cdk-overlay-dark-backdrop",
      positionStrategy: strategy,
    })

    // 使用剛剛建立的Config建立一個OverlayRef
    const overlayRef = this.overlay.create(config)

    // 建立一個Injector，父層是此AppComponent的Injector，並多新增一個Provider，並帶上overlayRef
    // 如此以來彈出的Component可以透過DI取得OverlayRef並關閉視窗。
    const injector = Injector.create({
      parent: this.injector,
      providers: [{ provide: OverlayRef, useValue: overlayRef }],
    })

    // 動態建立Component並給予injector，並將該Component放置於Overlay上。
    overlayRef.attach(new ComponentPortal(ModalComponent, null, injector))
  }
}

// 省略...
```
